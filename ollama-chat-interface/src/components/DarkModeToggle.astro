---
// You can add any imports here if needed
---

<button
  id="darkModeToggle"
  class="px-4 py-2 rounded bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white"
>
  Light Mode
</button>

<script>
  const darkModeToggle = document.getElementById('darkModeToggle');
  
  function updateButtonText(isDark: boolean) {
    if (darkModeToggle) {
      darkModeToggle.textContent = isDark ? 'Light Mode' : 'Dark Mode';
    }
  }

  function setDarkMode(isDark: boolean) {
    document.documentElement.classList.toggle('dark', isDark);
    localStorage.setItem('darkMode', isDark.toString());
    updateButtonText(isDark);
  }

  // Initialize dark mode based on localStorage or system preference
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  const storedDarkMode = localStorage.getItem('darkMode');
  const initialDarkMode = storedDarkMode !== null ? storedDarkMode === 'true' : prefersDark;
  setDarkMode(initialDarkMode);

  // Toggle dark mode on button click
  darkModeToggle?.addEventListener('click', () => {
    const isDark = document.documentElement.classList.toggle('dark');
    setDarkMode(isDark);
  });

  // Listen for system preference changes
  window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
    if (localStorage.getItem('darkMode') === null) {
      setDarkMode(e.matches);
    }
  });
</script>